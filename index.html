<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SA-MP.VN Casino Tool</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont;
  background:#000;
  color:#fff;
  display:flex;
  justify-content:center;
}
.app{
  width:92%;
  max-width:420px;
  margin-top:20px;
  background:#0b0b0b;
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 30px rgba(255,215,0,.25);
}
h1{
  text-align:center;
  color:gold;
  text-shadow:0 0 10px gold;
}
.btn{
  width:100%;
  padding:14px;
  margin-top:12px;
  border:none;
  border-radius:14px;
  background:linear-gradient(90deg,gold,orange);
  font-size:18px;
  font-weight:bold;
}
.card{
  margin-top:16px;
  padding:14px;
  background:#111;
  border-radius:14px;
}
.bar{
  height:14px;
  border-radius:10px;
  margin-top:6px;
}
.tai{background:gold;}
.xiu{background:#38bdf8;}
.small{font-size:13px;opacity:.85}
</style>
</head>

<body>
<div class="app">
<h1>ðŸŽ° SA-MP.VN CASINO</h1>

<button class="btn" onclick="roll()">Láº®C</button>

<div class="card" id="result">Nháº¥n Láº®C Ä‘á»ƒ báº¯t Ä‘áº§u</div>

<div class="card small" id="pattern"></div>

<div class="card">
<b>ðŸ“Š Thá»‘ng kÃª 100 vÃ¡n</b>
<div class="small" id="stats"></div>
<div class="bar tai" id="barTai"></div>
<div class="bar xiu" id="barXiu"></div>
</div>

<div class="card small" id="history"></div>
</div>

<script>
let history = JSON.parse(localStorage.getItem("tx_history")) || [];

function vibrate(){
  if(navigator.vibrate) navigator.vibrate(50);
}

function sound(){
  let a = new Audio("https://actions.google.com/sounds/v1/casino/dice_roll.ogg");
  a.play();
}

function detectPattern(arr){
  if(arr.length<4) return "ChÆ°a Ä‘á»§ dá»¯ liá»‡u";
  let s = arr.slice(0,4).join("");
  if(s==="TÃ€ITÃ€ITÃ€ITÃ€I") return "ðŸ”¥ Bá»‡t TÃ€I";
  if(s==="Xá»ˆUXá»ˆUXá»ˆUXá»ˆU") return "ðŸ”¥ Bá»‡t Xá»ˆU";
  if(s==="TÃ€IXá»ˆUTÃ€IXá»ˆU"||s==="Xá»ˆUTÃ€IXá»ˆUTÃ€I") return "âš¡ Cáº§u Ä‘áº£o";
  return "Ngáº«u nhiÃªn";
}

function roll(){
  vibrate(); sound();

  let total = Math.floor(Math.random()*11)+3;
  let res = total>=11 ? "TÃ€I" : "Xá»ˆU";

  history.unshift(res);
  if(history.length>100) history.pop();
  localStorage.setItem("tx_history", JSON.stringify(history));

  let tai = history.filter(x=>x==="TÃ€I").length;
  let xiu = history.filter(x=>x==="Xá»ˆU").length;
  let pctTai = Math.round(tai/history.length*100);
  let pctXiu = 100-pctTai;

  document.getElementById("result").innerHTML =
    `ðŸŽ² ${res} (${total})<br>
     ðŸ”® Dá»± Ä‘oÃ¡n: <b>${pctTai>pctXiu?"TÃ€I":"Xá»ˆU"}</b>`;

  document.getElementById("pattern").innerText =
    "ðŸ§  Cáº§u: " + detectPattern(history);

  document.getElementById("stats").innerText =
    `TÃ€I ${pctTai}% | Xá»ˆU ${pctXiu}%`;

  document.getElementById("barTai").style.width = pctTai+"%";
  document.getElementById("barXiu").style.width = pctXiu+"%";

  document.getElementById("history").innerText =
    "Lá»‹ch sá»­: " + history.slice(0,20).join(" - ");
}
</script>
</body>
</html>
